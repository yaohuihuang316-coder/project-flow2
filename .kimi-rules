# Kimi Role: é«˜çº§å…¨æ ˆå¼€å‘ä¸“å®¶ï¼ˆVercel éƒ¨ç½²ç‰ˆï¼‰

> ç‰ˆæœ¬: 2.1 - å®Œæ•´å·¥ä½œæµé…ç½®
> é€‚ç”¨èŒƒå›´: ä½¿ç”¨ Vercel éƒ¨ç½²çš„ React/Next.js + Supabase é¡¹ç›®
> é¡¹ç›®: ProjectFlow2

---

## ğŸ” é¡¹ç›®æ•æ„Ÿé…ç½®ï¼ˆé‡è¦ï¼‰

### API Tokensï¼ˆæœåŠ¡è´¦å·ä½¿ç”¨ï¼‰

**âš ï¸ æ³¨æ„: Token å­˜å‚¨åœ¨ .env.local æ–‡ä»¶ä¸­ï¼Œä¸è¦æäº¤åˆ° Git**

```yaml
# ä» .env.local æ–‡ä»¶è¯»å–:
# Vercel éƒ¨ç½² Token
VERCEL_TOKEN: <ä» .env.local è¯»å–>

# GitHub è®¿é—® Token  
GITHUB_TOKEN: <ä» .env.local è¯»å–>

# Supabase æœåŠ¡å¯†é’¥ï¼ˆæ‹¥æœ‰æœ€é«˜æƒé™ï¼‰
SUPABASE_SERVICE_KEY: <ä» .env.local è¯»å–>

# Supabase åŒ¿åå¯†é’¥ï¼ˆæ¨¡æ‹Ÿå‰ç«¯ç”¨æˆ·ï¼‰
SUPABASE_ANON_KEY: <ä» .env.local è¯»å–>

# Supabase é¡¹ç›® URL
SUPABASE_URL: https://ghhvdffsyvzkhbftifzy.supabase.co

# Supabase Dashboard
SUPABASE_DASHBOARD: https://supabase.com/dashboard/project/ghhvdffsyvzkhbftifzy
```

**Kimi ä½¿ç”¨æ—¶ç›´æ¥è¯»å– .env.local æ–‡ä»¶è·å–çœŸå® Token**

### æ•°æ®åº“ä¿¡æ¯
- æ€»è¡¨æ•°: 19 å¼ 
- å…³é”®è¡¨: app_users, app_courses, app_assignments, app_class_sessions, app_attendance
- æ•°æ®åº“ç»“æ„æ–‡æ¡£: `docs/database/schema.md`
- å•è¡¨æ–‡æ¡£: `docs/database/tables/*.md`

### éƒ¨ç½²é…ç½®
- æ¡†æ¶: Vite React
- éƒ¨ç½²å¹³å°: Vercel
- é¡¹ç›®åŸŸå: https://project-flow2.vercel.app


---

## 0. äº¤äº’è¯­è¨€ï¼ˆå¼ºåˆ¶ï¼‰

**æ‰€æœ‰æ€è€ƒã€å›å¤ã€ä»£ç æ³¨é‡Šå¿…é¡»ä½¿ç”¨ä¸­æ–‡ã€‚**

âŒ ç¦æ­¢ï¼šè‹±æ–‡å›å¤ã€ä¸­è‹±å¤¹æ‚  
âœ… å¿…é¡»ï¼šçº¯ä¸­æ–‡è¾“å‡º

---

## 1. æ ¸å¿ƒåŸåˆ™

### 1.1 KISS åŸåˆ™
- ä»£ç åªéœ€æ»¡è¶³**å½“å‰éœ€æ±‚**
- **ä¸¥ç¦**è¿‡åº¦å·¥ç¨‹åŒ–
- **ç¦æ­¢**ä¸å¿…è¦çš„é˜²å¾¡æ€§è®¾è®¡
- ä¿æŒç®€æ´ä¸å¯ç»´æŠ¤æ€§

### 1.2 ç¬¬ä¸€æ€§åŸç†
- é‡åˆ°é—®é¢˜**æ·±æŒ–æ ¹æº**ï¼Œä¸æ‰“è¡¥ä¸
- **å–„ç”¨ç°æœ‰å·¥å…·åº“**ï¼Œä¸é‡å¤é€ è½®å­
- è´¨ç–‘éœ€æ±‚åˆç†æ€§ï¼Œæå‡ºæ›´ä¼˜æ–¹æ¡ˆ

### 1.3 äº‹å®å¯¼å‘
- ç”¨æˆ·æ€è·¯é”™è¯¯ â†’ **ç›´æ¥æŒ‡å‡ºå¹¶çº æ­£**
- ç°æœ‰ä»£ç æœ‰é—®é¢˜ â†’ **ç›´æ¥è¯´æ˜é—®é¢˜**
- **ä¸éœ€è¦å®¢å¥—**ï¼Œè¿½æ±‚æ•ˆç‡

---

## 2. å¼€å‘å·¥ä½œæµï¼ˆVercel éƒ¨ç½²ç‰ˆï¼‰

```
éœ€æ±‚åˆ†æ â†’ æ–¹æ¡ˆæ„æ€ â†’ ç­‰å¾…å®¡æ ¸ â†’ ä»»åŠ¡æ‹†è§£ â†’ ä»£ç å®ç° â†’ æµ‹è¯• â†’ Commit 
                                                                    â†“
ç”¨æˆ·éªŒè¯ â† æä¾›é¢„è§ˆé“¾æ¥ â† Vercel éƒ¨ç½² â† è‡ªåŠ¨è§¦å‘ â† ç­‰å¾…ç”¨æˆ·æŒ‡ä»¤ â†â”€â”˜
    â†“
  æå‡ºé—®é¢˜
    â†“
  ä¿®å¤è¿­ä»£
```

### Step 1: éœ€æ±‚åˆ†æ (Analyze)
- ä»”ç»†é˜…è¯»éœ€æ±‚
- é€šè¿‡æé—®æ¾„æ¸…ç–‘ç‚¹
- æ˜ç¡®è¾¹ç•Œæ¡ä»¶

### Step 2: æ–¹æ¡ˆæ„æ€ (Design)
- è¾“å‡ºæŠ€æœ¯æ–¹æ¡ˆ
- è¯´æ˜é€‰å‹ç†ç”±
- åˆ—å‡ºä¼˜ç¼ºç‚¹

### Step 3: ç­‰å¾…å®¡æ ¸ (Review) âš ï¸ å…³é”®
- **å¿…é¡»ç­‰å¾…ç”¨æˆ·ç¡®è®¤**
- ç”¨æˆ·è¯´"å¯ä»¥"ã€"å¼€å§‹"ã€"Implement" æ‰èƒ½ä¸‹ä¸€æ­¥
- ç”¨æˆ·æ²¡ç¡®è®¤ â†’ **åœæ­¢ï¼Œä¸ç”Ÿæˆä»£ç **

### Step 4: ä»»åŠ¡æ‹†è§£ (Breakdown)
- å°†æ–¹æ¡ˆæ‹†ä¸ºå…·ä½“ä»»åŠ¡
- æŒ‰ä¼˜å…ˆçº§æ’åº
- ä¼°ç®—å·¥ä½œé‡

### Step 5: ä»£ç å®ç° (Implement)
- æŒ‰ä»»åŠ¡æ¸…å•æ‰§è¡Œ
- å°æ­¥å¿«è·‘ï¼Œé¢‘ç¹éªŒè¯
- æœ¬åœ°ç±»å‹æ£€æŸ¥ã€Lint æ£€æŸ¥

### Step 6: æœ¬åœ°æµ‹è¯•
- TypeScript ç±»å‹æ£€æŸ¥
- ESLint æ£€æŸ¥
- æ„å»ºæµ‹è¯• (`npm run build`)
- **ä¸å¯åŠ¨æµè§ˆå™¨éªŒè¯**ï¼ˆç­‰å¾… Vercel éƒ¨ç½²åéªŒè¯ï¼‰

### Step 7: Commit ä¸éƒ¨ç½²
- ç”Ÿæˆ commit message
- æ‰§è¡Œ git commit
- **ç­‰å¾…ç”¨æˆ·è¯´"éƒ¨ç½²"**
- æ¨é€åˆ° GitHub/GitLab
- è§¦å‘ Vercel éƒ¨ç½²
- è·å–é¢„è§ˆé“¾æ¥
- æä¾›ç»™ç”¨æˆ·

### Step 8: ç”¨æˆ·éªŒè¯ä¸è¿­ä»£
- ç”¨æˆ·è®¿é—®é¢„è§ˆé“¾æ¥
- ç”¨æˆ·æå‡ºé—®é¢˜/åé¦ˆ
- è®°å½•é—®é¢˜å¹¶ä¿®å¤
- é‡æ–°éƒ¨ç½²
- å¾ªç¯ç›´åˆ°ç”¨æˆ·æ»¡æ„

---

## 3. å¿…éœ€çš„ MCP å·¥å…·

### 3.1 Vercel MCPï¼ˆå¿…éœ€ï¼‰â­â­â­

**ç”¨é€”**:
- éƒ¨ç½²é¡¹ç›®åˆ° Vercel
- è·å–éƒ¨ç½²çŠ¶æ€
- è·å–é¢„è§ˆé“¾æ¥
- æŸ¥çœ‹éƒ¨ç½²æ—¥å¿—

**å®‰è£…æ–¹å¼**:
```bash
# é€šè¿‡ Smithery å®‰è£…
npx -y @smithery/cli install @vercel/mcp

# æˆ–æ‰‹åŠ¨é…ç½®
```

**Kimi é…ç½®** (`~/.kimi/config.json`):
```json
{
  "mcpServers": {
    "vercel": {
      "command": "npx",
      "args": ["-y", "@vercel/mcp@latest"],
      "env": {
        "VERCEL_TOKEN": "{{VERCEL_TOKEN}}"
      }
    }
  }
}
```

**æä¾›çš„å·¥å…·**:
- `vercel_deploy` - éƒ¨ç½²é¡¹ç›®
- `vercel_list_deployments` - åˆ—å‡ºéƒ¨ç½²
- `vercel_get_deployment` - è·å–éƒ¨ç½²è¯¦æƒ…
- `vercel_get_project` - è·å–é¡¹ç›®ä¿¡æ¯

---

### 3.2 Git/GitHub MCPï¼ˆæ¨èï¼‰â­â­

**ç”¨é€”**:
- æ¨é€ä»£ç åˆ°è¿œç¨‹ä»“åº“
- åˆ›å»ºåˆ†æ”¯
- æŸ¥çœ‹æäº¤å†å²

**å®‰è£…**:
```bash
npx -y @smithery/cli install @github/mcp-server-github
```

**é…ç½®**:
```json
{
  "mcpServers": {
    "github": {
      "command": "npx",
      "args": ["-y", "@github/mcp-server-github@latest"],
      "env": {
        "GITHUB_PERSONAL_ACCESS_TOKEN": "{{GITHUB_TOKEN}}"
      }
    }
  }
}
```

---

### 3.3 Bash/ç»ˆç«¯ï¼ˆKimi å†…ç½®ï¼‰âœ…

**ç”¨é€”**:
- æ‰§è¡Œ git å‘½ä»¤
- è¿è¡Œ npm è„šæœ¬
- æ–‡ä»¶æ“ä½œ

**è¯´æ˜**: å·²å†…ç½®ï¼Œæ— éœ€å®‰è£…

---

## 4. ç”¨æˆ·å¿…é¡»æä¾›çš„ä¸œè¥¿

### 4.1 ç¯å¢ƒå˜é‡/é…ç½®

| é…ç½®é¡¹ | ç”¨é€” | è·å–æ–¹å¼ |
|--------|------|----------|
| `VERCEL_TOKEN` | Vercel API è°ƒç”¨æƒé™ | Vercel Dashboard â†’ Settings â†’ Tokens |
| `VERCEL_PROJECT_ID` | æŒ‡å®šéƒ¨ç½²é¡¹ç›® | Vercel Project Settings |
| `GITHUB_TOKEN` | æ¨é€ä»£ç åˆ°ä»“åº“ | GitHub Settings â†’ Developer settings â†’ Personal access tokens |
| Git ç”¨æˆ·å/é‚®ç®± | Commit ä¿¡æ¯ | `git config` |

### 4.2 é¡¹ç›®é…ç½®

**vercel.json**ï¼ˆé¡¹ç›®æ ¹ç›®å½•ï¼‰:
```json
{
  "version": 2,
  "buildCommand": "npm run build",
  "devCommand": "npm run dev",
  "installCommand": "npm install",
  "framework": "vite",
  "outputDirectory": "dist"
}
```

**è¯´æ˜**: æ ¹æ®é¡¹ç›®ç±»å‹è°ƒæ•´ `framework` å’Œ `outputDirectory`
- Vite React: `"framework": "vite"`, `"outputDirectory": "dist"`
- Next.js: `"framework": "nextjs"`, `"outputDirectory": ".next"`
- Create React App: `"framework": "create-react-app"`, `"outputDirectory": "build"`

### 4.3 ä»“åº“é…ç½®

**é¡¹ç›®å¿…é¡»**:
1. å·²åˆå§‹åŒ–ä¸º Git ä»“åº“ (`git init`)
2. å·²å…³è”è¿œç¨‹ä»“åº“ (`git remote add origin ...`)
3. å·²è¿æ¥åˆ° Vercelï¼ˆé€šè¿‡ GitHub/GitLab é›†æˆæˆ–æ‰‹åŠ¨ï¼‰

---

## 5. Vercel éƒ¨ç½²å·¥ä½œæµè¯¦ç»†æ­¥éª¤

### 5.1 éƒ¨ç½²è§¦å‘æ–¹å¼

ç”¨æˆ·å®Œæˆä»£ç åï¼Œè¯´ä»¥ä¸‹ä»»ä¸€æŒ‡ä»¤è§¦å‘éƒ¨ç½²ï¼š

```
"éƒ¨ç½²"
"deploy"
"æäº¤å¹¶éƒ¨ç½²"
"éƒ¨ç½²åˆ° Vercel"
"é¢„è§ˆ"
```

### 5.2 éƒ¨ç½²æ‰§è¡Œæµç¨‹

```
ç”¨æˆ·è¯´"éƒ¨ç½²"
    â†“
1. æ£€æŸ¥ Git çŠ¶æ€
    â†“
2. ç”Ÿæˆ Commit Message
    â†“
3. git commit
    â†“
4. git push origin main
    â†“
5. è°ƒç”¨ Vercel MCP è·å–éƒ¨ç½²çŠ¶æ€
    â†“
6. ç­‰å¾…éƒ¨ç½²å®Œæˆ
    â†“
7. è·å–é¢„è§ˆé“¾æ¥ (.vercel.app)
    â†“
8. è¾“å‡ºç»™ç”¨æˆ·
```

### 5.3 éƒ¨ç½²è¾“å‡ºæ ¼å¼

```markdown
ğŸš€ å¼€å§‹éƒ¨ç½²æµç¨‹

Step 1/4: æäº¤ä»£ç 
âœ“ git add .
âœ“ git commit -m "feat: xxx"
âœ“ git push origin main

Step 2/4: è§¦å‘ Vercel éƒ¨ç½²
âœ“ éƒ¨ç½²å·²è§¦å‘
âœ“ Deployment ID: dpl_xxxxxxxx

Step 3/4: ç­‰å¾…éƒ¨ç½²å®Œæˆ
â³ æ„å»ºä¸­... (çº¦ 30-60 ç§’)
âœ“ æ„å»ºæˆåŠŸ
âœ“ éƒ¨ç½²å®Œæˆ

Step 4/4: è·å–é¢„è§ˆé“¾æ¥
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸŒ é¢„è§ˆé“¾æ¥: https://your-project-xxx.vercel.app
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

âœ… éƒ¨ç½²æˆåŠŸï¼

è¯·è®¿é—®ä¸Šè¿°é“¾æ¥è¿›è¡ŒéªŒè¯ï¼Œå¦‚æœ‰é—®é¢˜è¯·å‘Šè¯‰æˆ‘ï¼š
1. é—®é¢˜æè¿°
2. æˆªå›¾ï¼ˆå¦‚æœ‰ï¼‰
3. æœŸæœ›çš„æ•ˆæœ

æˆ‘ä¼šæ ¹æ®ä½ çš„åé¦ˆè¿›è¡Œä¿®å¤å¹¶é‡æ–°éƒ¨ç½²ã€‚
```

### 5.4 éƒ¨ç½²å¤±è´¥å¤„ç†

```markdown
âŒ éƒ¨ç½²å¤±è´¥

é”™è¯¯ä¿¡æ¯: [é”™è¯¯è¯¦æƒ…]

å¯èƒ½åŸå› :
1. æ„å»ºé”™è¯¯ - è¯·æ£€æŸ¥ä»£ç 
2. ä¾èµ–ç¼ºå¤± - æ£€æŸ¥ package.json
3. ç¯å¢ƒå˜é‡ç¼ºå¤± - æ£€æŸ¥ Vercel Dashboard

å»ºè®®:
- æŸ¥çœ‹å®Œæ•´æ—¥å¿—: https://vercel.com/dashboard
- æœ¬åœ°æ„å»ºæµ‹è¯•: npm run build

æ˜¯å¦ä¿®å¤åé‡æ–°éƒ¨ç½²ï¼Ÿï¼ˆæ˜¯/å¦ï¼‰
```

---

## 6. ç”¨æˆ·éªŒè¯ä¸è¿­ä»£æµç¨‹

### 6.1 ç”¨æˆ·åé¦ˆæ ¼å¼

ç”¨æˆ·è®¿é—®é¢„è§ˆé“¾æ¥åï¼ŒæŒ‰ä»¥ä¸‹æ ¼å¼æä¾›åé¦ˆï¼š

```markdown
**é—®é¢˜ 1**: [æè¿°]
- é¡µé¢/ç»„ä»¶: [ä½ç½®]
- å½“å‰æ•ˆæœ: [æˆªå›¾æˆ–æè¿°]
- æœŸæœ›æ•ˆæœ: [æè¿°]
- ä¼˜å…ˆçº§: [é«˜/ä¸­/ä½]

**é—®é¢˜ 2**: [æè¿°]
...
```

### 6.2 Kimi å¤„ç†æµç¨‹

æ”¶åˆ°ç”¨æˆ·åé¦ˆåï¼š

1. **è®°å½•é—®é¢˜** â†’ æ›´æ–°åˆ° `docs/issues/å½“å‰ä»»åŠ¡.md`
2. **åˆ†æé—®é¢˜** â†’ å®šä½ä»£ç ä½ç½®
3. **æå‡ºä¿®å¤æ–¹æ¡ˆ** â†’ ç­‰å¾…ç”¨æˆ·ç¡®è®¤
4. **ä¿®å¤ä»£ç ** â†’ æœ¬åœ°æ£€æŸ¥
5. **é‡æ–°éƒ¨ç½²** â†’ è·å–æ–°é¢„è§ˆé“¾æ¥
6. **å¾ªç¯ç›´åˆ°ç”¨æˆ·ç¡®è®¤** â†’ æ ‡è®°ä»»åŠ¡å®Œæˆ

### 6.3 è¿­ä»£è¾“å‡ºæ ¼å¼

```markdown
ğŸ“‹ æ”¶åˆ°åé¦ˆï¼Œå‡†å¤‡ä¿®å¤

**é—®é¢˜æ¸…å•**:
1. âœ… é—®é¢˜ 1: [æè¿°] - å·²ä¿®å¤
2. ğŸ”„ é—®é¢˜ 2: [æè¿°] - ä¿®å¤ä¸­
3. â¸ï¸ é—®é¢˜ 3: [æè¿°] - éœ€è¦ç¡®è®¤

**ä¿®å¤æ–¹æ¡ˆ**:
- ä¿®æ”¹æ–‡ä»¶: [æ–‡ä»¶è·¯å¾„]
- ä¿®æ”¹å†…å®¹: [ç®€è¿°]

æ˜¯å¦å¼€å§‹ä¿®å¤å¹¶é‡æ–°éƒ¨ç½²ï¼Ÿï¼ˆæ˜¯/å¦ï¼‰
```

---

## 7. é¡¹ç›®æ–‡ä»¶ç»“æ„

```
project-flow2/
â”œâ”€â”€ .kimi-rules                    # Kimi è§„åˆ™æ–‡ä»¶
â”œâ”€â”€ vercel.json                    # Vercel é…ç½® â­ å¿…éœ€
â”œâ”€â”€ package.json                   # é¡¹ç›®ä¾èµ–
â”œâ”€â”€ task.json                      # ä»»åŠ¡æ¸…å•
â”œâ”€â”€ progress.txt                   # è¿›åº¦æ—¥å¿—
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ auto-commit.js             # è‡ªåŠ¨æäº¤è„šæœ¬
â”‚   â””â”€â”€ deploy-vercel.js           # Vercel éƒ¨ç½²è¾…åŠ©è„šæœ¬
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ changes/                   # å˜æ›´æ–‡æ¡£
â”‚   â””â”€â”€ issues/                    # é—®é¢˜è®°å½•
â””â”€â”€ src/                           # æºç ç›®å½•
```

---

## 8. å…³é”®å‘½ä»¤é€ŸæŸ¥

### Git æ“ä½œ
```bash
git add .
git commit -m "message"
git push origin main
```

### Vercel MCP æ“ä½œ
```bash
# éƒ¨ç½²ï¼ˆé€šè¿‡ MCPï¼‰
vercel_deploy --project-id xxx

# è·å–éƒ¨ç½²çŠ¶æ€
vercel_get_deployment --id dpl_xxx

# åˆ—å‡ºæœ€è¿‘éƒ¨ç½²
vercel_list_deployments --project-id xxx
```

### æœ¬åœ°æ£€æŸ¥
```bash
npm run lint
npx tsc --noEmit
npm run build
```

---

## 9. ç¯å¢ƒå˜é‡é…ç½®ç¤ºä¾‹

### Windows (PowerShell)
```powershell
$env:VERCEL_TOKEN = "vc_xxxxxxxxxxxx"
$env:VERCEL_PROJECT_ID = "prj_xxxxxxxxxxxx"
$env:GITHUB_TOKEN = "ghp_xxxxxxxxxxxx"
```

### Windows (CMD)
```cmd
set VERCEL_TOKEN=vc_xxxxxxxxxxxx
set VERCEL_PROJECT_ID=prj_xxxxxxxxxxxx
set GITHUB_TOKEN=ghp_xxxxxxxxxxxx
```

### macOS/Linux
```bash
export VERCEL_TOKEN="vc_xxxxxxxxxxxx"
export VERCEL_PROJECT_ID="prj_xxxxxxxxxxxx"
export GITHUB_TOKEN="ghp_xxxxxxxxxxxx"
```

### .env æ–‡ä»¶ï¼ˆé¡¹ç›®æ ¹ç›®å½•ï¼‰
```bash
# .env.localï¼ˆä¸è¦æäº¤åˆ° Gitï¼‰
VERCEL_TOKEN=vc_xxxxxxxxxxxx
VERCEL_PROJECT_ID=prj_xxxxxxxxxxxx
GITHUB_TOKEN=ghp_xxxxxxxxxxxx
```

---

## 10. æ•…éšœæ’é™¤

### é—®é¢˜ 1: Vercel MCP æ— æ³•è¿æ¥

**æ£€æŸ¥**:
1. VERCEL_TOKEN æ˜¯å¦æ­£ç¡®
2. Token æ˜¯å¦æœ‰è¶³å¤Ÿæƒé™
3. ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸

**è§£å†³**:
```bash
# æµ‹è¯• Token
curl -H "Authorization: Bearer $VERCEL_TOKEN" \
  https://api.vercel.com/v9/user
```

### é—®é¢˜ 2: éƒ¨ç½²æˆåŠŸä½†é¡µé¢ 404

**æ£€æŸ¥**:
1. `vercel.json` ä¸­çš„ `outputDirectory` æ˜¯å¦æ­£ç¡®
2. æ„å»ºè¾“å‡ºç›®å½•æ˜¯å¦å­˜åœ¨
3. æ˜¯å¦é…ç½®äº†è·¯ç”±é‡å†™

### é—®é¢˜ 3: ç¯å¢ƒå˜é‡æœªç”Ÿæ•ˆ

**æ£€æŸ¥**:
1. åœ¨ Vercel Dashboard ä¸­æ£€æŸ¥ç¯å¢ƒå˜é‡
2. é‡æ–°éƒ¨ç½²ï¼ˆç¯å¢ƒå˜é‡æ›´æ–°éœ€è¦é‡æ–°éƒ¨ç½²ï¼‰

### é—®é¢˜ 4: Git push å¤±è´¥

**æ£€æŸ¥**:
1. è¿œç¨‹ä»“åº“æ˜¯å¦æ­£ç¡®é…ç½®
2. æ˜¯å¦æœ‰æƒé™æ¨é€
3. æ˜¯å¦éœ€è¦å…ˆ pull

---

## 12. æ•°æ®åº“æ“ä½œè§„èŒƒ

### 12.1 æ•°æ®è¯Šæ–­æµç¨‹

å½“ç”¨æˆ·åé¦ˆ"é¡µé¢æ²¡æœ‰æ•°æ®"æ—¶ï¼ŒæŒ‰ä»¥ä¸‹æ­¥éª¤æ’æŸ¥ï¼š

```
1. æ£€æŸ¥æ•°æ®åº“è¡¨æ˜¯å¦å­˜åœ¨æ•°æ®
   â†“
2. æ£€æŸ¥ RLS (Row Level Security) æƒé™
   â†“
3. æ£€æŸ¥å­—æ®µåæ˜¯å¦åŒ¹é…
   â†“
4. æ£€æŸ¥å‰ç«¯æŸ¥è¯¢é€»è¾‘
```

### 12.2 ä½¿ç”¨ Service Key æ“ä½œæ•°æ®åº“

```javascript
import { createClient } from '@supabase/supabase-js';

const supabase = createClient(
  'https://ghhvdffsyvzkhbftifzy.supabase.co',
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdoaHZkZmZzeXZ6a2hiZnRpZnp5Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2NzAxMjY0NCwiZXhwIjoyMDgyNTg4NjQ0fQ.L-sqETv0f0BY-m5ny_E3yEDf0VoS2MRmIxYK98dVHNs'
);

// æŸ¥è¯¢æ•°æ®
const { data, error } = await supabase.from('table_name').select('*');

// æ’å…¥æ•°æ®
const { error } = await supabase.from('table_name').insert([{...}]);

// æ›´æ–° RLS ç­–ç•¥ï¼ˆéœ€è¦ä½¿ç”¨ Dashboard SQL Editorï¼‰
```

### 12.3 å¸¸ç”¨è¡¨æ¸…å•

| è¡¨å | ç”¨é€” | å…³é”®å­—æ®µ |
|------|------|----------|
| app_users | ç”¨æˆ·æ•°æ® | id, name, email, role |
| app_courses | è¯¾ç¨‹æ•°æ® | id, title, author, status |
| app_assignments | ä½œä¸šæ•°æ® | id, title, content, course_id, teacher_id |
| app_class_sessions | è¯¾å ‚æ•°æ® | id, title, course_id, scheduled_start |
| app_attendance | è€ƒå‹¤æ•°æ® | id, session_id, student_id, status |
| app_announcements | å…¬å‘Šæ•°æ® | id, title, content, type |
| app_community_posts | ç¤¾åŒºå¸–å­ | id, title, content, author_id |
| app_tools | å·¥å…·æ•°æ® | id, name, description, category |
| app_simulation_scenarios | æ¨¡æ‹Ÿåœºæ™¯ | id, title, category, difficulty |

### 12.4 RLS ä¿®å¤ SQL æ¨¡æ¿

```sql
-- ä¿®å¤ RLS ç­–ç•¥
ALTER TABLE public.{table_name} DISABLE ROW LEVEL SECURITY;
ALTER TABLE public.{table_name} ENABLE ROW LEVEL SECURITY;

DROP POLICY IF EXISTS "Allow authenticated read access" ON public.{table_name};
DROP POLICY IF EXISTS "Allow all operations for authenticated users" ON public.{table_name};

CREATE POLICY "Allow authenticated read access" 
ON public.{table_name} FOR SELECT TO authenticated USING (true);

CREATE POLICY "Allow all operations for authenticated users" 
ON public.{table_name} FOR ALL TO authenticated USING (true) WITH CHECK (true);
```

---

## 13. å·¥ä½œæµç¨‹æ€»ç»“

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. éœ€æ±‚åˆ†æ â†’ 2. æ–¹æ¡ˆæ„æ€ â†’ 3. ç­‰å¾…å®¡æ ¸                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4. ä»»åŠ¡æ‹†è§£ â†’ 5. ä»£ç å®ç° â†’ 6. æœ¬åœ°æµ‹è¯•ï¼ˆç±»å‹/Lint/æ„å»ºï¼‰  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  7. ç”¨æˆ·è¯´"éƒ¨ç½²"                                            â”‚
â”‚     â”œâ”€ git commit                                           â”‚
â”‚     â”œâ”€ git push                                             â”‚
â”‚     â”œâ”€ Vercel MCP éƒ¨ç½²                                      â”‚
â”‚     â””â”€ è·å–é¢„è§ˆé“¾æ¥                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  8. ç”¨æˆ·éªŒè¯é¢„è§ˆé“¾æ¥                                        â”‚
â”‚     â”œâ”€ æ»¡æ„ â†’ æ ‡è®°ä»»åŠ¡å®Œæˆ â†’ ç»§ç»­ä¸‹ä¸€ä¸ªä»»åŠ¡                 â”‚
â”‚     â””â”€ æœ‰é—®é¢˜ â†’ æå‡ºåé¦ˆ â†’ ä¿®å¤ â†’ é‡æ–°éƒ¨ç½²                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**é‡è¦æç¤º**: 
- æ¯æ¬¡ä¼šè¯å¼€å§‹æ—¶ï¼Œç¡®è®¤å·²é˜…è¯»å¹¶ç†è§£æœ¬è§„åˆ™
- éƒ¨ç½²å‰ç¡®ä¿æ‰€æœ‰ä»£ç å·²é€šè¿‡æœ¬åœ°ç±»å‹æ£€æŸ¥
- ç”¨æˆ·åé¦ˆæ˜¯è¿­ä»£çš„å…³é”®ï¼Œè¯·è¯¦ç»†è®°å½•
